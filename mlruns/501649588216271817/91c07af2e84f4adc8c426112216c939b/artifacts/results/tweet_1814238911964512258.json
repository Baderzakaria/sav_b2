{
  "status": "error",
  "raw_response": "import json\n\ndef validate_results(data):\n    consolidated = {}\n    for key, value in data.items():\n        if isinstance(value, dict):\n            result = validate_results(value)\n            for k, v in result.items():\n                consolidated[k] = v\n        elif value.startswith('JSON:'):\n            try:\n                json_obj = json.loads(value[5:])\n                consolidated['utile'] = json_obj.get('useful', False)\n                consolidated['categorie'] = json_obj.get('categorie')\n                consolidated['sentiment'] = json_obj.get('sentiment')\n                consolidated['type_probleme'] = json_obj.get('type_probleme')\n                consolidated['score_gravite'] = json_obj.get('score_gravite', 0)\n                if not consolidated['utile']:\n                    consolidated['score_gravite'] = 0\n                consolidated['status'] = 'success'\n            except ValueError:\n                consolidated['utile'] = False\n        else:\n            try:\n                tweet = json.loads(value)[0]\n                if tweet.startswith('@free'):\n                    consolidated['type_probleme'] = 'resiliation'\n            except (json.JSONDecodeError, IndexError):\n                consolidated['utile'] = False\n\n    return consolidated\n\ndata = {\n  \"A1\": \"{\\\"useful\\\": true}\",\n  \"A2\": \"JSON : {\\\"categorie\\\": \\\"probleme\\\"}\\n\\nLa cat\\u00e9gorie correspond \\u00e0 ce qu'il est question dans le tweet : une situation de probl\\u00e9me ou de contestation.\",\n  \"A3\": \"{ \\\"sentiment\\\": \\\"colere\\\" }\",\n  \"A4\": \"Bonjour !\\n\\nJe suis Agent A4.\\n\\nApr\\u00e8s analyse du message, j'ai identifi\\u00e9 le type de probl\\u00e8me :\\n\\n\\\"resiliation\\\"\\n\\nC'est une situation o\\u00f9 une personne (dans ce cas, un employ\\u00e9) a souscrit \\u00e0 un abonnement sans son accord et maintenant demande au propri\\u00e9taire ( vous) de r\\u00e9tracter l'abonnement, m\\u00eame si celui-ci n'a jamais accept\\u00e9 ou confirm\\u00e9 le contrat.\\n\\nVoici la r\\u00e9ponse JSON :\\n\\n```json\\n{\\\"type_probleme\\\": \\\"resiliation\\\"}\\n```\\n\\nEt voici une proposition de tweet pour informer les utilisateurs sur ce probl\\u00e8me :\\n\\n\\\"@free D\\u00e9sol\\u00e9(e), un employ\\u00e9 a souscrit \\u00e0 mon abonnement Free mobile sans mon accord. Maintenant, je dois envoyer un courrier de r\\u00e9tractation ? @Siret @Cnil #Abus #Resiliation\\\"\",\n  \"A5\": \"{\\\"score_gravite\\\": -5}\\n\\nTweet :\\n\\\"D\\u00e9sol\\u00e9 @free, mais votre syst\\u00e8me est d\\u00e9pass\\u00e9 ! Un employ\\u00e9 a souscrit \\u00e0 ma place sans mon accord et d\\u00e9sormais je suis confront\\u00e9 \\u00e0 une situation ridicule. R\\u00e9tracter l'abonnement est n\\u00e9cessaire ! #FreeMobile #Probl\\u00e8meClient\\\"\"\n}\n\nresult = validate_results(data)\nprint(result)"
}