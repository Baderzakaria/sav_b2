{
  "status": "error",
  "raw_response": "import json\n\ndef validate_results(data):\n    results = []\n    \n    for text in data:\n        if isinstance(text, str):\n            result = {\n                \"utile\": False,\n                \"categorie\": \"\",\n                \"sentiment\": \"\",\n                \"type_probleme\": \"\",\n                \"score_gravite\": 0,\n                \"status\": \"success/error\"\n            }\n            \n            # Parse JSON response\n            try:\n                json_response = json.loads(text)\n            except json.JSONDecodeError:\n                continue\n            \n            # Extract relevant information from the JSON response\n            if 'utile' in json_response and json_response['utile']:\n                result[\"utile\"] = True\n            elif \"categorie\" in json_response:\n                result[\"categorie\"] = json_response[\"categorie\"]\n            elif \"sentiment\" in json_response:\n                result[\"sentiment\"] = json_response[\"sentiment\"]\n            elif \"type_probleme\" in json_response:\n                result[\"type_probleme\"] = json_response[\"type_probleme\"]\n            \n        # Analyze the text to determine if gravity should be near 0\n        else:\n            try:\n                sentiment = analyze_sentiment(text)\n                if sentiment == 'frustration':\n                    result['sentiment'] = sentiment\n                    result['utile'] = False\n                    result['score_gravite'] = 0\n                else:\n                    result['sentiment'] = sentiment\n            except Exception as e:\n                print(f\"Error analyzing text: {e}\")\n        \n        # Append the updated result to the list\n        results.append(result)\n    \n    return results\n\ndef analyze_sentiment(text):\n    if \"frustration\" in text.lower():\n        return 'frustration'\n    else:\n        return 'positive'\n\n# Input data\ndata = {\n  \"A1\": \"Let's analyze the tweet:\\n\\nThe tweet appears to be in French and translates to \\\"They've clarified that it wasn't free?\\\".\\n\\nGiven its content, I would classify this tweet as useful for Customer Support (SAV) because it is a question about a specific topic or issue. Therefore, the response should be positive.\\n\\nJSON Response:\\n{\\\"utile\\\": true}\",\n  \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n  \"A3\": \"{\\\"sentiment\\\": \\\"frustration\\\"}\",\n  \"A4\": \"Bonjour !\\n\\nAnalysons le probl\\u00e8me :\\n\\n* \\\"panne\\\" : Probl\\u00e8me technique ou dysfonctionnement\\n* \\\"facturation\\\" : Probl\\u00e8me de paiement ou de facture\\n* \\\"abonnement\\\" : Probl\\u00e8me li\\u00e9 \\u00e0 un abonnement, tel qu'une annulation ou une modification\\n* \\\"resiliation\\\" : Probl\\u00e8me li\\u00e9 \\u00e \u00e0 la r\\u00e9siliation d'un service ou d'un abonnement\\n* \\\"information\\\" : Probl\\u00e8me li\\u00e9 \\u00e \u00e0 l'obtention d'informations ou de donn\\u00e9es incorrectes\\n* \\\"autre\\\" : Probleme non sp\\u00e9cifi\\u00e9 ou ind\\u00e9fini\\n\\nDans ce cas, le probl\\u00e8me semble \\u00eatre li\\u00e9 \\u00e \u00e0 une facturation, car il mentionne qu'on n'est pas gratuit. Donc, je vais r\\u00e9pondre :\\n\\n{\\\"type_probleme\\\": \\\"facturation\\\"}\\n\\nEt voici un tweet pour informer les clients :\\n\\n\\\"Error ! T'as pr\\u00e9cis\\u00e9 que l'on n'\\u00e9tait pas gratuit ? Il semblerait que vous avez des probl\\u00e8mes de facturation ! Nous allons nous mettre \\u00e0 votre disposition pour r\\u00e9soudre ce probl\\u00e8me. #client #support\\\"\",\n  \"A5\": \"Patiency is not a word I'm familiar with, but T'as pr\\u00e9cis\\u00e9 que nous \\u00e9tions payants. Je vais donc \\u00e9valuer la gravit\\u00e9 comme suit :\\n\\nLa situation est un peu inqui\\u00e9tante, mais cela ne semble pas \\u00eatre une question de s\\u00e9curit\\u00e9 imm\\u00e9diate. Donc, je vais attribuer une score de 0.\\n\\nTweet : \\\"Situation en cours : 0/10 #gravit\\u00e9 #situation\\\"\"\n}\n\n# Validate results\nresults = validate_results(data)\n\n# Print final consolidated keys\nfor result in results:\n    print(json.dumps(result))"
}