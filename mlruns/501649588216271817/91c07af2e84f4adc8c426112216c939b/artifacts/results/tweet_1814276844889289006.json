{
  "status": "error",
  "raw_response": "import json\n\ndef validate_results(results):\n    # Parse JSON input\n    inputs = {}\n    for key, value in results.items():\n        if isinstance(value, str) and value.startswith('\"'):\n            try:\n                inputs[key] = json.loads(value)\n            except json.JSONDecodeError:\n                print(f\"Invalid JSON: {key}\")\n        elif isinstance(value, dict):\n            inputs[key] = value\n        else:\n            print(f\"Ignoring non-JSON input: {key}\")\n\n    # Validate consistency of results\n    utile = False\n    for key in ['utile', 'categorie', 'sentiment', 'type_probleme', 'score_gravite']:\n        if key not in inputs or not isinstance(inputs[key], str):\n            print(f\"Missing or invalid value for {key}\")\n            continue\n\n        value = inputs[key]\n        if key == 'utile':\n            utile = json.loads(value)  # Assuming 'utile' is always a boolean\n        elif key == 'categorie':\n            if not isinstance(inputs[key], str):\n                print(f\"Invalid category: {key} ({type(inputs[key])})\")\n                continue\n        elif key == 'sentiment':\n            if not isinstance(inputs[key], str):\n                print(f\"Invalid sentiment: {key} ({type(inputs[key])})\")\n                continue\n        elif key == 'type_probleme':\n            if not isinstance(inputs[key], str):\n                print(f\"Invalid type of problem: {key} ({type(inputs[key])})\")\n                continue\n        elif key == 'score_gravite':\n            if not isinstance(inputs[key], int) or inputs[key] < 0:\n                print(f\"Invalid gravity score: {key} ({inputs[key]})\")\n                continue\n\n    # Check gravity near 0 for utile input\n    if utile and inputs['utile'] == False:\n        gravity = 0.5  # Assuming gravity is near 0, but not exactly 0\n    else:\n        gravity = None\n\n    # Construct final consolidated keys\n    output = {\n        'utile': utile,\n        'categorie': inputs.get('categorie', ''),\n        'sentiment': inputs.get('sentiment', ''),\n        'type_probleme': inputs.get('type_probleme', ''),\n        'score_gravite': gravity if utile else inputs.get('score_gravite', 0),\n        'status': 'success' if utile and gravity == None else 'error'\n    }\n\n    return output\n\n# Test the function\nresults = {\n  \"A1\": \"JSON Response:\\n\\n{\\\"useful\\\": true}\\n\\nExplanation: This tweet is a complaint regarding the assistance provided by Freebox, a company that offers internet services. The user is expressing frustration with the requirement to use their mobile phone number to access free support, which they feel unfairly targets seniors (retrait\\u00e9s).\",\n  \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n  \"A3\": \"{\\\"sentiment\\\": \\\"colere\\\"}\",\n  \"A4\": \"Bonjour !\\n\\nJe suis Agent A4 et je vais analyser votre probl\\u00e8me.\\n\\nLe type de probl\\u00e8me est : \\\"resiliation\\\"\\n\\nVoici un tweet qui refl\\u00e8te cela :\\n\\n\\\"Probl\\u00e8me avec votre service @Freebox : Impossible de contacter l'assistance free si c'est pas avec le num\\u00e9ro de mobile de la personne concern\\u00e9e ! Super, on peut pas aider les retrait\\u00e9s ! #Aide #Service #Resiliation\\\"\\n\\nR\\u00e9ponse en JSON :\\n```json\\n{\\n  \\\"type_probleme\\\": \\\"resiliation\\\"\\n}\\n```\\nJ'esp\\u00e8re que cela vous aidera \\u00e0 r\\u00e9soudre votre probl\\u00e8me avec l'assistance de Freebox !\",\n  \"A5\": \"{\\\"score_gravite\\\": 0}\\n\\nCe score indique une situation neutre ou normale, sans incidence particuli\\u00e8re.\"\n}\n\noutput = validate_results(results)\nprint(json.dumps(output, indent=4))"
}