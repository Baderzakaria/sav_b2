{
  "status": "error",
  "raw_response": "import json\n\ndef validate_results(data):\n    results = []\n    for key, value in data.items():\n        if isinstance(value, str):\n            try:\n                result = json.loads(value)\n                results.append({\n                    \"utile\": result.get(\"util\", False),\n                    \"categorie\": result.get(\"categorie\"),\n                    \"sentiment\": result.get(\"sentiment\"),\n                    \"type_probleme\": result.get(\"type_probleme\"),\n                    \"score_gravite\": int(result.get(\"score_gravite\", 0)),\n                    \"status\": \"success\"\n                })\n            except json.JSONDecodeError:\n                results.append({\n                    \"utile\": False,\n                    \"categorie\": key,\n                    \"sentiment\": \"\",\n                    \"type_probleme\": \"\",\n                    \"score_gravite\": 0,\n                    \"status\": \"error\"\n                })\n        elif isinstance(value, dict):\n            result = {\n                \"utile\": value.get(\"util\", False),\n                \"categorie\": value.get(\"categorie\"),\n                \"sentiment\": value.get(\"sentiment\"),\n                \"type_probleme\": value.get(\"type_probleme\"),\n                \"score_gravite\": int(value.get(\"score_gravite\", 0)),\n                \"status\": \"success\"\n            }\n            if result[\"utile\"] is False:\n                result[\"status\"] = \"error\"\n            results.append(result)\n    return results\n\ndata = {\n    \"A1\": \"{\\\"util\\\": true}\",\n    \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n    \"A3\": \"Bonjour ! En tant qu'Agent A3, je vais analyser le sentiment de votre tweet.\\n\\nVoici mon r\\u00e9sultat :\\n\\n{\\n\\\"sentiment\\\": \\\"col\\u00e8re\\\"\\n}\\n\\nR\\u00e9ponse : La sentinelle reconna\\u00eet un ton irritable et exasp\\u00e9r\\u00e9 dans votre message, caract\\u00e9risant une forte col\\u00e8re.\",\n    \"A4\": \"Bonjour !\\n\\nJe suis Agent A4, et je suis l\\u00e0 pour vous aider.\\n\\nLe probl\\u00e8me que vous rencontrez est li\\u00e9 \\u00e0 la \\\"facturation\\\" du service WiFi chez Free. Il semblerait que le tarif qu'il vous a factur\\u00e9 ne correspond pas au niveau de service que vous recevez.\\n\\nVoici une r\\u00e9ponse en JSON :\\n\\n```json\\n{\\n  \\\"type_probleme\\\": \\\"facturation\\\"\\n}\\n```\\n\\nEt voici un tweet qui r\\u00e9sume la situation :\\n\\n\\\"Rien \\u00e0 faire avec @free ! Le WiFi saute chez moi et ils m'ont factur\\u00e9 48\\u20ac par mois pour \\u00e7a ? Non merci, j'ai besoin d'une solution ! #Facturation #WiFi #Probleme\\\"\\n#Activer\",\n    \"A5\": \"{\\\"score_gravite\\\":-6}\\n\\n\\\"La vie est dure pour les utilisateurs des services de @free ! Leur wifi qui 'sauterait' comme un satellite n'est pas le moindre probl\\u00e8me, surtout lorsqu'on paie 48\\u20ac par mois pour \\u00e7a. #\\u00e9puisantesexp\\u00e9riences #Foutaise\\\"\"\n}\n\nresults = validate_results(data)\n\nprint(json.dumps(results, indent=4))"
}