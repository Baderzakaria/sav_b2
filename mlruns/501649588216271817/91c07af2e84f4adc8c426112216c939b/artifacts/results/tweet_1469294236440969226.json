{
  "status": "error",
  "raw_response": "import json\nimport re\n\ndef validate_results(results):\n    final_response = {}\n    for result in results:\n        if 'utile' not in result or not result['utile']:\n            final_response['utile'] = False\n            final_response['gravity'] = 0\n        else:\n            final_response['utile'] = True\n            gravity = int(re.search(r'-(\\d+)', str(result.get('score_gravite'))).group(1))\n            final_response['gravity'] = gravity\n\n        if 'categorie' not in result:\n            continue\n        elif result['categorie'] != 'probleme':\n            raise ValueError(f\"Invalid categorie: {result['categorie']}\")\n\n        if 'sentiment' not in result:\n            raise ValueError(f\"No sentiment found for tweet: {result}\")\n        elif result['sentiment'] == 'frustration':\n            final_response['sentiment'] = 'negative'\n        else:\n            raise ValueError(f\"Unexpected sentiment: {result['sentiment']}\")\n\n        if 'type_probleme' not in result:\n            continue\n        elif result['type_probleme'] != 'resiliation':\n            raise ValueError(f\"Invalid type_probleme: {result['type_probleme']}\")\n\n        final_response['score_gravite'] = int(re.search(r'-(\\d+)', str(result.get('score_gravite'))).group(1))\n        final_response['status'] = 'success'\n\n    return json.dumps(final_response)\n\ninputs = {\n  \"A1\": \"Let's analyze the tweet.\\n\\nThe tweet is a retweet of another user (@Free_1337) complaining about a specific issue with their internet service. The text mentions a \\\"rupture de fibre\\\" (fiber break) and its impact on their connection, which indicates that it's related to a Customer Support (SAV) topic.\\n\\nTherefore, I conclude that this tweet is useful for Customer Support.\\n\\nJSON Response:\\n{\\\"useful\\\": true}\",\n  \"A2\": \"JSON r\\u00e9ponse :\\n{\\n    \\\"categorie\\\" : \\\"probleme\\\"\\n}\",\n  \"A3\": \"{\\\"sentiment\\\": \\\"frustration\\\"}\",\n  \"A4\": \"Bonjour !\\n\\nCompte tenu du message, je dirais que le probl\\u00e8me type est : \\\"resiliation\\\" car il s'agit d'une rupture de fibre qui entra\\u00eene des perturbations de service, ce qui peut \\u00eatre consid\\u00e9r\\u00e9 comme une interruption ou r\\u00e9siliation du service.\\n\\nVoici la r\\u00e9ponse JSON :\\n\\n```json\\n{\\n  \\\"type_probleme\\\": \\\"resiliation\\\"\\n}\\n```\\n\\nEt voici le tweet personnalis\\u00e9 :\\n\\n\\\"RT @Free_1337 : Une rupture de fibre entra\\u00eene des perturbations de service depuis 14h30 sur Strasbourg / Koenigshoffen / Crone... #ServiceR\\u00e9sili\\u00e9\\\"\",\n  \"A5\": \"Une situation grave !\\n\\nScore : -5 ( S\\u00e9v\\u00e8re, mais pas critique )\\n\\nR\\u00e9ponse JSON :\\n{\\\"score_gravite\\\": -5}\\n\\nTweet :\\n\\\"Alerte ! Une rupture de fibre entra\\u00eene des perturbations de service sur Strasbourg/Koenigshoffen/Crone. Score gravit\\u00e9 -5. #S\\u00e9curit\\u00e9Infra #ProblemeTechnique\\\"\"\n}\n\noutput = validate_results(inputs)\nprint(output)"
}