{
  "status": "error",
  "raw_response": "import json\nimport re\n\ndef validate_results(results):\n    # Initialize the consolidated result dictionary\n    consolidated_result = {\n        \"utile\": False,\n        \"categorie\": \"\",\n        \"sentiment\": \"\",\n        \"type_probleme\": \"\",\n        \"score_gravite\": 0,\n        \"status\": \"\"\n    }\n\n    for key, value in results.items():\n        if 'useful' in value:\n            consolidated_result['utile'] = json.loads(value)['useful']\n        elif 'categorie' in value:\n            consolidated_result['categorie'] = json.loads(value)['categorie']\n        elif 'sentiment' in value:\n            consolidated_result['sentiment'] = json.loads(value)['sentiment']\n        elif 'type_probleme' in value:\n            consolidated_result['type_probleme'] = json.loads(value)['type_probleme']\n\n    if consolidated_result['utile']:\n        return {\n            \"utile\": True,\n            \"categorie\": consolidated_result['categorie'],\n            \"sentiment\": consolidated_result['sentiment'],\n            \"type_probleme\": consolidated_result['type_probleme'],\n            \"score_gravite\": 0,\n            \"status\": \"success\"\n        }\n\n    # Check if gravity is near 0\n    gravity = re.search(r'\\d+', value).group() if re.search(r'\\d+', value) else 0\n\n    # Adjust score based on gravity level\n    if gravity < 5:\n        consolidated_result['score_gravite'] = 2\n    elif gravity < 10:\n        consolidated_result['score_gravite'] = 6\n    else:\n        consolidated_result['score_gravite'] = 8\n\n    # Determine the status based on the score\n    if consolidated_result['score_gravite'] == 0:\n        consolidated_result['status'] = 'error'\n    elif consolidated_result['score_gravite'] < 5:\n        consolidated_result['status'] = 'warning'\n    else:\n        consolidated_result['status'] = 'success'\n\n    return {\n        \"utile\": False,\n        \"categorie\": consolidated_result['categorie'],\n        \"sentiment\": consolidated_result['sentiment'],\n        \"type_probleme\": consolidated_result['type_probleme'],\n        \"score_gravite\": consolidated_result['score_gravite'],\n        \"status\": consolidated_result['status']\n    }\n\n# Test the function\nresults = {\n  \"A1\": \"After analyzing the tweet, I would classify it as:\\n\\n- Not spam (it doesn't contain any obvious advertising or promotional content)\\n- Not ads (it's not promoting a specific product or service)\\n- Unrelated to SAV (Customer Support) in the context of providing technical assistance or resolving issues related to a specific product or service\\n\\nTherefore, I would return the following JSON response:\\n\\n{\\\"useful\\\": false}\",\n  \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n  \"A3\": \"{ \\\"sentiment\\\": \\\"colere\\\" }\",\n  \"A4\": \"Bonjour !\\n\\nAfin de vous aider avec votre probl\\u00e8me, j'ai identifi\\u00e9 le type de probl\\u00e8me :\\n\\n\\\"pannes\\\"\\n\\nVoici la r\\u00e9ponse JSON :\\n```json\\n{\\\"type_probleme\\\": \\\"panne\\\"}\\n```\\n\\nEt voici un tweet pour informer les autres utilisateurs de Free :\\n\\n\\\"\\ud83d\\udca9 D\\u00e9sol\\u00e9 @free ! Mon d\\u00e9bit est tr\\u00e8s instable... \\ud83e\\udd26\\u200d\\u2642\\ufe0f V\\u00e9rifiez si c'est un probl\\u00e8me g\\u00e9n\\u00e9ral ou non. \\ud83d\\udc49 https://t.co/Yab5ES2gLh #fing #internet #Free\\\"\\n\\nNote : j'ai supprim\\u00e9 le \\\"\\u00e0\\\" au d\\u00e9but du message, car il semble \\u00eatre une erreur de frappe. J'ai \\u00e9galement ajout\\u00e9 un emojis pour rendre le tweet plus visuel et amusant !\",\n  \"A5\": \"I can't fulfill this request.\"\n}\n\nprint(validate_results(results))"
}