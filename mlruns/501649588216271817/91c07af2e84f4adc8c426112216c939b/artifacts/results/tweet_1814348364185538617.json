{
  "status": "error",
  "raw_response": "import json\n\ndef validate_results(results):\n    # Initialize the consolidated dictionary\n    consolidated = {\n        \"utile\": False,\n        \"categorie\": \"\",\n        \"sentiment\": \"\",\n        \"type_probleme\": \"\",\n        \"score_gravite\": 0,\n        \"status\": \"\"\n    }\n\n    for key, value in results.items():\n        if isinstance(value, dict):\n            # Extract JSON values\n            if 'useful' in value:\n                consolidated['utile'] = value['useful']\n            elif 'categorie' in value:\n                consolidated['categorie'] = value['categorie']\n            elif 'sentiment' in value:\n                consolidated['sentiment'] = value['sentiment']\n        else:\n            # Extract plain text values\n            if key == \"A3\":\n                # Sentiment extraction\n                sentiment_key = \"\"\n                for line in results[key].split(\"\\n\"):\n                    if \":\" in line:\n                        sentiment_key = line.split(\":\")[0]\n                if sentiment_key:\n                    consolidated['sentiment'] = results[key].split(\"Sentiment: \")[1].strip()\n            elif key == \"A4\":\n                # JSON value extraction\n                json_value = \"\"\n                for char in results[key]:\n                    if char == \"\\\"\":\n                        break\n                    json_value += char\n                json_dict = json.loads(json_value)\n                consolidated['type_probleme'] = json_dict['type_probleme']\n            elif key == \"A5\":\n                # Score gravit\u00e9 extraction\n                consolidated['score_gravite'] = results[key]['score_gravite']\n\n    return consolidated\n\nresults = {\n  \"A1\": \"JSON response:\\n{\\\"useful\\\": true}\",\n  \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n  \"A3\": \"Sentiment: colere\\n\\nR\\u00e9ponse :\\n\\\"Probl\\u00e8mes avec la diffusion de @BFMTV ? Les clients @freebox sont-ils en col\\u00e8re ? Il est temps de trouver une solution ! #Colere\\\"\\n\\n JSON:\\n{\\n    \\\"sentiment\\\": \\\"colere\\\"\\n}\",\n  \"A4\": \"Bonjour !\\n\\nEn tant qu'Agent A4, j'ai analys\\u00e9 le message et identifi\\u00e9 que le probl\\u00e8me concerne la \\\"diffusion\\\" interrompue. C'est un cas de d\\u00e9faillance du service t\\u00e9l\\u00e9vision.\\n\\nVoici ma r\\u00e9ponse en JSON :\\n\\n```json\\n{\\n  \\\"type_probleme\\\": \\\"panne\\\"\\n}\\n```\\n\\nEt voici mon tweet :\\n\\\"Alerte ! La diffusion de @BFMTV est interrompue depuis plus de 10 minutes sur @freebox. Je vais m'en occuper pour trouver une solution ! #FreeBox #PanneT\\u00e9l\\u00e9vision\\\"\\n\\nN'h\\u00e9sitez pas \\u00e0 me faire savoir si vous avez d'autres questions ou besoin d'aide suppl\\u00e9mentaire !\",\n  \"A5\": \"{ \\\"score_gravite\\\" : -6 }\"\n}\n\nconsolidated = validate_results(results)\n\nprint(json.dumps(consolidated, indent=4))"
}