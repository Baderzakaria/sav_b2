{
  "status": "error",
  "raw_response": "import json\nfrom collections import defaultdict\n\n# Input data\ndata = {\n  \"A1\": \"json={\\\"useful\\\": true}\",\n  \"A2\": \"{\\\"categorie\\\": \\\"probleme\\\"}\",\n  \"A3\": \"**Sentiment Analysis Result**\\n\\nVoici le r\\u00e9sultat de l'analyse de sentiment :\\n\\n```json\\n{\\n  \\\"sentiment\\\": \\\"frustration\\\"\\n}\\n```\\n\\n**Raisonnement:**\\n\\nLe tweet exprime une frustration et un sentiment de col\\u00e8re envers la soci\\u00e9t\\u00e9 Free pour leur probl\\u00e8me de flux TV sur une adresse sp\\u00e9cifique (Levallois 92300) alors que le d\\u00e9bit internet est correct. Le langage utilis\\u00e9, tel que \\\"probl\\u00e8me\\\", \\\"soucis identifi\\u00e9s\\\" et l'adresse du tweet, indique un sentiment n\\u00e9gatif et frustrant.\",\n  \"A4\": \"Bonjour !\\n\\nLe probl\\u00e8me type est : \\\"resiliation\\\".\\n\\nVoici la r\\u00e9ponse sous forme de JSON :\\n\\n```json\\n{\\n    \\\"type_probleme\\\": \\\"resiliation\\\"\\n}\\n```\\n\\nEt voici le tweet :\\n\\\"Probl\\u00e8me de flux TV sur Levallois 92300 alors que le d\\u00e9bit internet est ok ! Vous avez des soucis identifi\\u00e9s @Free_1337 @free ? #ProblemeDeFlux #Resiliation #Levallois\\\"\",\n  \"A5\": \"Bonjour!\\n\\nEn tant qu'Agent A5, je vais \\u00e9valuer la situation :\\n\\nLe probl\\u00e8me est li\\u00e9 \\u00e0 un probl\\u00e8me de flux TV sur Levallois (92300), mais le d\\u00e9bit Internet est bon. Cela sugg\\u00e8re que l'issue n'est pas simplement une question de qualit\\u00e4 du service, mais peut-\\u00eatre quelque chose d'autre.\\n\\nJe vais \\u00e9valuer la gravit\\u00e9 de la situation :\\n\\n* La communication avec Free est claire et n\\u00e9cessaire.\\n* Il s'agit probablement d'un probl\\u00e8me de technologie ou d'une erreur syst\\u00e8me.\\n* Pas de danger imm\\u00e9diat pour la s\\u00e9curit\\u00e9 ou les services essentiels.\\n\\nScore de gravit\\u00e9 : 2 (mod\\u00e9r\\u00e9)\\n\\nJSON :\\n{\\\"score_gravite\\\": 2}\\n\\nTweet :\\n\\\"Probl\\u00e8me de flux TV sur Levallois (92300) ! D\\u00e9bit Internet fonctionne bien, mais le TV ne veut pas s'allumer. @Free_1337, pouvez-vous m'aider ? #Free #Levallois #ProblemeTech\\\"\"\n}\n\ndef validate(data):\n    results = {}\n    for key, value in data.items():\n        if isinstance(value, str) and value.startswith('json={'):\n            json_str = value.split('=')[1].strip()\n            try:\n                json_obj = json.loads(json_str)\n                results[key] = {\"utile\": json_obj[\"useful\"], \"categorie\": json_obj.get(\"categorie\"), \"sentiment\": json_obj.get(\"sentiment\"), \"type_probleme\": json_obj.get(\"type_probleme\"), \"score_gravite\": 0}\n            except ValueError:\n                pass\n        elif isinstance(value, str) and value.startswith('**'):\n            if 'Tweet:' in value:\n                tweet = value.split(': ', 1)[1].strip()\n                try:\n                    json_str = tweet[3:-4]  # remove json tags\n                    json_obj = json.loads(json_str)\n                    results[key] = {\"utile\": False, \"categorie\": json_obj.get(\"categorie\"), \"sentiment\": json_obj.get(\"sentiment\"), \"type_probleme\": json_obj.get(\"type_probleme\"), \"score_gravite\": 0}\n                except ValueError:\n                    pass\n        elif isinstance(value, str):\n            try:\n                results[key] = {\"utile\": False, \"categorie\": value.split('\\n\\n')[1].strip(), \"sentiment\": value.split('**Sentiment Analysis Result**\\n\\n')[-1].strip().split('Raisonnement:')[0], \"type_probleme\": value.split('Le probl\\u00e8me type est : \\\")[1].strip(), \"score_gravite\": 0}\n            except IndexError:\n                pass\n    if results.get(\"utile\", False):\n        gravity = results[\"utile\"]\n        if not gravity:\n            results[\"score_gravite\"] = 0\n        elif gravity < 3:\n            results[\"score_gravite\"] = 1\n        else:\n            results[\"score_gravite\"] = 2\n    return results\n\nprint(validate(data))"
}