{
  "status": "error",
  "raw_response": "import json\n\n# Input dictionary\ninputs = {\n    \"A1\": \"JSON: {\\\"useful\\\": true}\",\n    \"A2\": \"JSON r\\u00e9ponse :\\n{\\n  \\\"categorie\\\": \\\"probleme\\\"\\n}\",\n    \"A3\": \"{\\\"sentiment\\\": \\\"colere\\\"}\",\n    \"A4\": \"Bonjour!\\n\\nEn tant qu'Agent A4, je vous indique que le probl\\u00e8me type est \\\"abonnement\\\".\\n\\nVoici la r\\u00e9ponse JSON :\\n\\n```json\\n{\\n  \\\"type_probleme\\\": \\\"abonnement\\\"\\n}\\n```\\n\\nEt voici un tweet pour informer les utilisateurs de l'\\u00e9tat du service :\\n\\n\\\"Alerte ! Un incident sur nos fibres engendre des perturbations de service dans certains d\\u00e\u00e9partements. Le Lot (46) et l'Aveyron (12) sont touch\\u00e9s. Des investigations sont en cours, nous vous remercions de votre patience. #ServiceEnCours #R\\u00e9parationEnMarche\\\"\",\n    \"A5\": \"JSON: {\\\"score_gravite\\\": -5}\\n\\nTweet : \\\"Alerte : incident sur les fibres nous affectant les d\\u00e9partements du Lot et de l'Aveyron. En cours d'enqu\\u00eate, patientez s'il vous pla\\u00eet.\\\"\"\n}\n\n# Consensus\nconsensus = True\n\n# Validation des valeurs JSON\ndef validate_json(json_str):\n    try:\n        return json.loads(json_str)\n    except json.JSONDecodeError:\n        return False\n\ndef compare_gravite(score_gravite):\n    if score_gravite >= 0:\n        return \"High\"\n    elif score_gravite < 0:\n        return \"Low\"\n    else:\n        return \"Low\"\n\n# Consensus des valeurs\nfor key, value in inputs.items():\n    json_str, tweet = value.split(\"\\n\\n\")\n    \n    # Validation du JSON\n    json_valid = validate_json(json_str)\n    if not json_valid:\n        consensus = False\n        continue\n\n    # Recherche de la cl\u00e9 'utile'\n    utile_key = list(json_valid.keys())[0]\n    if utile_key == \"useful\":\n        utile = json_valid[utile_key] == True\n    elif utile_key == \"categorie\" or utile_key == \"sentiment\":\n        # La cl\u00e9 n'est pas 'utile', mais le probl\u00e8me est valid\u00e9, donc le consensus reste le m\u00eame\n        continue\n\n    if key == \"A1\":\n        score_gravite = json_valid[\"score_gravite\"]\n    else:\n        score_gravite = validate_json(tweet)\n    \n    if not compare_gravite(score_gravite):\n        consensus = False\n        break\n\n# Construction du r\u00e9sultat\nresult = {\n    \"utile\": utile,\n    \"categorie\": json_valid.get(\"categorie\", \"\"),\n    \"sentiment\": json_valid.get(\"sentiment\", \"\"),\n    \"type_probleme\": json_valid[\"type_probleme\"],\n    \"score_gravite\": score_gravite if compare_gravite(score_gravite) != 'Low' else 0,\n    \"status\": \"success\" if consensus else \"error\"\n}\n\nprint(json.dumps(result, indent=4))"
}